<?xml version="1.0" encoding="UTF-8"?>
<Patch>
  
    <Operation Class="PatchOperationConditional">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Tachanka" or defName="DMS_Mech_Sniper" or defName="DMS_Mech_Grenadier" or defName="DMS_Mech_Pioneer" 
                    or defName="DMS_Mech_Siegebreaker" or defName="DMS_Mech_Ronin" or defName="DMS_Mech_Soldat" or defName="DMS_Mech_Protector"
                    or defName="DMS_Mech_BattleFrame" or defName="DMS_Mech_Soldat_B" or defName="DMS_Mech_Jaeger" or defName="DMS_Mech_Phalanx"
                    or defName="Mech_Termite_Breach" or defName="DMS_Mech_Raider" or defName="DMS_Mech_Arquebusier" or defName="DMS_Mech_Kanonier"
                    or defName="DMS_Mech_Sergeant"]/race/mechEnabledWorkTypes</xpath>
        <nomatch Class="PatchOperationAdd">
          <xpath>Defs/ThingDef[defName="DMS_Mech_Tachanka" or defName="DMS_Mech_Sniper" or defName="DMS_Mech_Grenadier" or defName="DMS_Mech_Pioneer" 
            or defName="DMS_Mech_Siegebreaker" or defName="DMS_Mech_Ronin" or defName="DMS_Mech_Soldat" or defName="DMS_Mech_Protector"
            or defName="DMS_Mech_BattleFrame" or defName="DMS_Mech_Soldat_B" or defName="DMS_Mech_Jaeger" or defName="DMS_Mech_Phalanx"
            or defName="Mech_Termite_Breach" or defName="DMS_Mech_Raider" or defName="DMS_Mech_Arquebusier" or defName="DMS_Mech_Kanonier"
            or defName="DMS_Mech_Sergeant"]/race</xpath>
          <value>
            <mechEnabledWorkTypes />
          </value>
        </nomatch>
      </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Tachanka" or defName="DMS_Mech_Sniper" or defName="DMS_Mech_Grenadier" or defName="DMS_Mech_Pioneer" 
          or defName="DMS_Mech_Siegebreaker" or defName="DMS_Mech_Ronin" or defName="DMS_Mech_Soldat" or defName="DMS_Mech_Protector"
          or defName="DMS_Mech_BattleFrame" or defName="DMS_Mech_Soldat_B" or defName="DMS_Mech_Jaeger" or defName="DMS_Mech_Phalanx"
          or defName="Mech_Termite_Breach" or defName="DMS_Mech_Raider" or defName="DMS_Mech_Arquebusier" or defName="DMS_Mech_Kanonier"
          or defName="DMS_Mech_Sergeant"]/race/mechEnabledWorkTypes</xpath>
        <value>
            <li>GuardingP_GuardingWorkType</li>
        </value>
      </Operation>

</Patch>